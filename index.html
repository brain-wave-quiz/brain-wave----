<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Brain Wave Quiz</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f5f7fb;
  padding:20px;
  text-align:center;
}
.box{
  background:#fff;
  padding:20px;
  max-width:600px;
  margin:auto;
  border-radius:12px;
  box-shadow:0 0 10px rgba(0,0,0,.1);
}
.hidden{display:none;}
button{
  padding:10px 18px;
  margin:5px;
  border:none;
  border-radius:8px;
  background:#1a73e8;
  color:white;
}
input,select{
  padding:10px;
  margin:5px;
  width:95%;
}
.option{
  display:block;
  width:100%;
}
</style>
</head>

<body>

<h1>ðŸ§  Brain Wave Study Group 
Online quiz </h1>

<!-- STUDENT -->
<div id="student" class="box">
  <select id="subject"></select>
  <button onclick="startQuiz()">Start quiz</button>
</div>

<div id="quiz" class="box hidden">
  <h3 id="q"></h3>
  <div id="opts"></div>
</div>

<div id="result" class="box hidden">
  <h2 id="score"></h2>
  <button onclick="location.reload()">Retake</button>
</div>

<!-- ADMIN -->
<div id="admin" class="box hidden">
  <h2>Admin Upload</h2>
  <input id="adminPass" placeholder="Admin password">
  <button onclick="loginAdmin()">Enter</button>

  <div id="adminPanel" class="hidden">
    <input id="sub" placeholder="Subject">
    <input id="ques" placeholder="Question">
    <input id="a" placeholder="Option A">
    <input id="b" placeholder="Option B">
    <input id="c" placeholder="Option C">
    <input id="d" placeholder="Option D">
    <input id="ans" placeholder="Correct (A/B/C/D)">
    <button onclick="saveQ()">Save Question</button>
  </div>
</div>

<script>
const ADMIN_PASSWORD = "brainwave02026";
let data = JSON.parse(localStorage.getItem("brainwave")) || {};
let quiz=[], i=0, score=0;

function loadSubjects(){
  let s = document.getElementById("subject");
  s.innerHTML = "<option>Select Subject</option>";
  Object.keys(data).forEach(k=>{
    let o=document.createElement("option");
    o.textContent=k; o.value=k;
    s.appendChild(o);
  });
}
loadSubjects();

if(location.hash === "#admin"){
  document.getElementById("student").classList.add("hidden");
  document.getElementById("admin").classList.remove("hidden");
}

function loginAdmin(){
  if(adminPass.value === ADMIN_PASSWORD){
    adminPanel.classList.remove("hidden");
  } else alert("Wrong password");
}

function saveQ(){
  if(!data[sub.value]) data[sub.value]=[];
  data[sub.value].push({
    q:ques.value,
    o:[a.value,b.value,c.value,d.value],
    a:ans.value.toUpperCase()
  });
  localStorage.setItem("brainwave",JSON.stringify(data));
  alert("Saved");
  loadSubjects();
}

function startQuiz(){
  quiz = data[subject.value];
  if(!quiz) return alert("No questions");
  student.classList.add("hidden");
  quizBox();
}

function quizBox(){
  quiz = data[subject.value];
  showQ();
  quizDiv.classList.remove("hidden");
}

function showQ(){
  let qn = quiz[i];
  q.innerText = qn.q;
  opts.innerHTML="";
  ["A","B","C","D"].forEach((l,n)=>{
    let b=document.createElement("button");
    b.className="option";
    b.innerText=qn.o[n];
    b.onclick=()=>{
      if(l===qn.a) score++;
      i++;
      i<quiz.length ? showQ() : showResult();
    };
    opts.appendChild(b);
  });
}

function showResult(){
  quiz.classList.add("hidden");
  result.classList.remove("hidden");
  score.innerText = `Score: ${score}/${quiz.length}`;
}
</script>

</body>
</html>